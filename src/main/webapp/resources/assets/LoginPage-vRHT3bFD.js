import{_ as D,u as I,d as U,e as B,f as O,r as i,c,o as n,a,g as A,t as d,w as J,h,i as _,v as g,b as S,j as M}from"./index-DZlUZLju.js";const T={class:"auth-page"},j={class:"auth-container"},C={class:"auth-card"},F={class:"auth-header"},L={class:"auth-title"},R={class:"auth-subtitle"},E={class:"form-group"},$={class:"form-group"},z={key:0,class:"form-group"},G={key:1,class:"form-group"},H={key:2,class:"error-message"},K=["disabled"],Q={key:0,class:"loading-spinner"},W={class:"auth-footer"},X={class:"switch-text"},Y={__name:"Authentication",emits:["login"],setup(k,{emit:x}){const b=I(),w=U(),y=B();O();const s=i(!1),u=i(""),r=i(""),p=i(""),v=i(""),t=i(""),f=i(!1),V=()=>{s.value=!s.value,t.value="",N()},N=()=>{u.value="",r.value="",p.value="",v.value=""},P=()=>{if(!u.value||!r.value)return t.value="이메일과 비밀번호를 입력해주세요.",!1;if(s.value){if(!v.value)return t.value="이름을 입력해주세요.",!1;if(r.value!==p.value)return t.value="비밀번호가 일치하지 않습니다.",!1;if(r.value.length<6)return t.value="비밀번호는 6자 이상이어야 합니다.",!1}return!0},q=async()=>{if(t.value="",!!P()){f.value=!0;try{if(await new Promise(o=>setTimeout(o,1e3)),s.value){const o=JSON.parse(localStorage.getItem("users")||"[]");if(o.find(m=>m.email===u.value)){t.value="이미 등록된 이메일입니다.";return}const e={id:Date.now(),email:u.value,password:r.value,name:v.value,joinDate:new Date().toISOString()};o.push(e),localStorage.setItem("users",JSON.stringify(o)),await y.login(e);const l=w.query.redirect||"/";b.push(l)}else{const e=JSON.parse(localStorage.getItem("users")||"[]").find(m=>m.email===u.value&&m.password===r.value);if(!e){t.value="이메일 또는 비밀번호가 올바르지 않습니다.";return}await y.login(e);const l=w.query.redirect||"/";b.push(l)}}catch{t.value="오류가 발생했습니다. 다시 시도해주세요."}finally{f.value=!1}}};return(o,e)=>(n(),c("div",T,[e[9]||(e[9]=a("div",{class:"auth-background"},[a("div",{class:"background-pattern"})],-1)),a("div",j,[a("div",C,[a("div",F,[a("h2",L,d(s.value?"회원가입":"로그인"),1),a("p",R,d(s.value?"새 계정을 만들어 서비스를 이용하세요":"계정에 로그인하여 개인화된 서비스를 이용하세요"),1)]),a("form",{onSubmit:J(q,["prevent"]),class:"auth-form"},[a("div",E,[e[4]||(e[4]=a("label",{for:"email",class:"form-label"},"이메일",-1)),_(a("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=l=>u.value=l),type:"email",class:"form-input",placeholder:"이메일을 입력하세요",required:""},null,512),[[g,u.value]])]),a("div",$,[e[5]||(e[5]=a("label",{for:"password",class:"form-label"},"비밀번호",-1)),_(a("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l),type:"password",class:"form-input",placeholder:"비밀번호를 입력하세요",required:""},null,512),[[g,r.value]])]),s.value?(n(),c("div",z,[e[6]||(e[6]=a("label",{for:"confirmPassword",class:"form-label"},"비밀번호 확인",-1)),_(a("input",{id:"confirmPassword","onUpdate:modelValue":e[2]||(e[2]=l=>p.value=l),type:"password",class:"form-input",placeholder:"비밀번호를 다시 입력하세요",required:""},null,512),[[g,p.value]])])):h("",!0),s.value?(n(),c("div",G,[e[7]||(e[7]=a("label",{for:"name",class:"form-label"},"이름",-1)),_(a("input",{id:"name","onUpdate:modelValue":e[3]||(e[3]=l=>v.value=l),type:"text",class:"form-input",placeholder:"이름을 입력하세요",required:""},null,512),[[g,v.value]])])):h("",!0),t.value?(n(),c("div",H,d(t.value),1)):h("",!0),a("button",{type:"submit",class:"submit-btn",disabled:f.value},[f.value?(n(),c("span",Q,"⏳")):h("",!0),S(" "+d(s.value?"회원가입":"로그인"),1)],8,K)],32),a("div",W,[a("p",X,[S(d(s.value?"이미 ���정이 있으신가요?":"계정이 없으신가요?")+" ",1),a("button",{onClick:V,class:"switch-btn"},d(s.value?"로그인":"회원가입"),1)])])]),e[8]||(e[8]=A('<div class="auth-features" data-v-a376de40><h3 class="features-title" data-v-a376de40>뱅크랩에서 제공하는 서비스</h3><div class="feature-list" data-v-a376de40><div class="feature-item" data-v-a376de40><span class="feature-icon" data-v-a376de40>💰</span><div class="feature-content" data-v-a376de40><h4 class="feature-name" data-v-a376de40>자산 관리</h4><p class="feature-description" data-v-a376de40>체계적인 자산 분석과 관리</p></div></div><div class="feature-item" data-v-a376de40><span class="feature-icon" data-v-a376de40>📊</span><div class="feature-content" data-v-a376de40><h4 class="feature-name" data-v-a376de40>소비 분석</h4><p class="feature-description" data-v-a376de40>지출 패턴 분석과 절약 팁</p></div></div><div class="feature-item" data-v-a376de40><span class="feature-icon" data-v-a376de40>📰</span><div class="feature-content" data-v-a376de40><h4 class="feature-name" data-v-a376de40>경제 뉴스</h4><p class="feature-description" data-v-a376de40>��신 경제 동향과 시장 분석</p></div></div><div class="feature-item" data-v-a376de40><span class="feature-icon" data-v-a376de40>🧠</span><div class="feature-content" data-v-a376de40><h4 class="feature-name" data-v-a376de40>투자 성향 검사</h4><p class="feature-description" data-v-a376de40>개인 맞춤형 투자 조언</p></div></div></div></div>',1))])]))}},Z=D(Y,[["__scopeId","data-v-a376de40"]]),ae={__name:"LoginPage",setup(k){return(x,b)=>(n(),M(Z))}};export{ae as default};
