import{k as p,r as b,l as g,c as k,a as s,b as n,i as o,n as x,t as D,v as r,m as f,w as V,u as E,o as I}from"./index-HlkU-3jm.js";const v="/api/member",M={"Content-Type":"multipart/form-data"},c={async checkUsername(d){const{data:t}=await p.get(`${v}/checkusername/${d}`);return console.log("AUTH GET CHECKUSERNAME",t),t},async create(d){const{data:t}=await p.post(v,d,M);return console.log("AUTH POST:",t),t}},q={class:"mt-5 mx-auto",style:{width:"500px"}},A={class:"mb-3 mt-3"},T={for:"username",class:"form-label"},S={class:"mb-3"},C={class:"mb-3"},B={class:"mb-3 mt-3"},R={class:"mb-3 mt-3"},Y={class:"mb-3 mt-3"},H={class:"mb-3 mt-3"},L={class:"mb-3 mt-3"},N=["disabled"],$={__name:"JoinPage",setup(d){const t=E(),m=b(""),i=b(!0),l=g({username:"",password:"",password2:"",name:"",phone:"",email:"",gender:"",birth:""}),y=async()=>{if(!l.username)return alert("사용자 ID를 입력하세요.");i.value=await c.checkUsername(l.username),m.value=i.value?"이미 사용중인 ID입니다.":"사용 가능한 ID입니다."},w=()=>{i.value=!0,m.value=l.username?"ID 중복 체크를 하셔야 합니다.":""},U=async()=>{if(l.email.trim()==="")return alert("이메일을 입력해주세요");if(l.password!=l.password2)return alert("비밀번호가 일치하지 않습니다.");try{await c.create(l),alert("가입 성공!"),t.push({name:"login"})}catch(u){console.error(u)}};return(u,e)=>(I(),k("div",q,[e[21]||(e[21]=s("h1",{class:"my-5"},[s("i",{class:"fa-solid fa-user-plus"}),n(" 회원 가입 ")],-1)),s("form",{onSubmit:V(U,["prevent"])},[s("div",A,[s("label",T,[e[9]||(e[9]=s("i",{class:"fa-solid fa-user"},null,-1)),e[10]||(e[10]=n(" 사용자 ID : ")),s("button",{type:"button",class:"btn btn-success btn-sm py-0 me-2",onClick:y}," ID 중복 확인 "),s("span",{class:x(i.value?"text-danger":"text-primary")},D(m.value),3)]),o(s("input",{type:"text",class:"form-control",placeholder:"사용자 ID",id:"username",onInput:w,"onUpdate:modelValue":e[0]||(e[0]=a=>l.username=a),required:""},null,544),[[r,l.username]])]),s("div",S,[e[11]||(e[11]=s("label",{for:"password",class:"form-label"},[s("i",{class:"fa-solid fa-lock"}),n(" 비밀번호: ")],-1)),o(s("input",{type:"password",class:"form-control",placeholder:"비밀번호",id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>l.password=a),required:""},null,512),[[r,l.password]])]),s("div",C,[e[12]||(e[12]=s("label",{for:"password",class:"form-label"},[s("i",{class:"fa-solid fa-lock"}),n(" 비밀번호 확인: ")],-1)),o(s("input",{type:"password",class:"form-control",placeholder:"비밀번호 확인",id:"password2","onUpdate:modelValue":e[2]||(e[2]=a=>l.password2=a),required:""},null,512),[[r,l.password2]])]),s("div",B,[e[13]||(e[13]=s("label",{for:"name",class:"form-label"}," 이름: ",-1)),o(s("input",{type:"text",class:"form-control",placeholder:"이름 입력",id:"name","onUpdate:modelValue":e[3]||(e[3]=a=>l.name=a),required:""},null,512),[[r,l.name]])]),s("div",R,[e[14]||(e[14]=s("label",{for:"gender"},"성별",-1)),o(s("input",{type:"radio",id:"male",value:"MALE","onUpdate:modelValue":e[4]||(e[4]=a=>l.gender=a)},null,512),[[f,l.gender]]),e[15]||(e[15]=s("label",{for:"male"},"남자",-1)),o(s("input",{type:"radio",id:"female",value:"FEMALE","onUpdate:modelValue":e[5]||(e[5]=a=>l.gender=a)},null,512),[[f,l.gender]]),e[16]||(e[16]=s("label",{for:"female"},"여자",-1))]),s("div",Y,[e[17]||(e[17]=s("label",{for:"birth",class:"form-label"},"생년월일",-1)),o(s("input",{type:"date",class:"form-control",placeholder:"YYYY.MM.DD",id:"birth","onUpdate:modelValue":e[6]||(e[6]=a=>l.birth=a),required:""},null,512),[[r,l.birth]])]),s("div",H,[e[18]||(e[18]=s("label",{for:"phone",class:"form-label"},"전화번호",-1)),o(s("input",{type:"tel",class:"form-control",placeholder:"-없이 입력",id:"phone","onUpdate:modelValue":e[7]||(e[7]=a=>l.phone=a),required:""},null,512),[[r,l.phone]])]),s("div",L,[e[19]||(e[19]=s("label",{for:"email",class:"form-label"},[s("i",{class:"fa-solid fa-envelope"}),n(" email ")],-1)),o(s("input",{type:"email",class:"form-control",placeholder:"banklab@example.com",id:"email","onUpdate:modelValue":e[8]||(e[8]=a=>l.email=a),required:""},null,512),[[r,l.email]])]),s("button",{type:"submit",class:"btn btn-primary mt-4",disabled:i.value},e[20]||(e[20]=[s("i",{class:"fa-solid fa-user-plus"},null,-1),n(" 가입하기 ")]),8,N)],32)]))}};export{$ as default};
