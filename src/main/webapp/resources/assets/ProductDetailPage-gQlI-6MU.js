import{i as h,_ as C,r as g,o as P,u as T,c as n,a as t,n as N,t as l,b as i,F as k,d as $,e as a}from"./index-Dxri-OYj.js";const M=async(v,c,d)=>{var r,e;try{console.log("예금 상품 조회 요청:",{dclsMonth:v,finCoNo:c,finPrdtCd:d});const s=await h.get(`/api/deposit/${v}/${c}/${d}`);return console.log("예금 상품 조회 응답:",s.data),s.data}catch(s){throw console.error("예금 상품 상세 조회 실패:",((r=s.response)==null?void 0:r.data)||s.message),((e=s.response)==null?void 0:e.status)===404?new Error("해당 예금 상품을 찾을 수 없습니다."):s}},I=async(v,c,d)=>{var r,e;try{console.log("적금 상품 조회 요청:",{dclsMonth:v,finCoNo:c,finPrdtCd:d});const s=await h.get(`/api/savings/${v}/${c}/${d}`);return console.log("적금 상품 조회 응답:",s.data),s.data}catch(s){throw console.error("적금 상품 상세 조회 실패:",((r=s.response)==null?void 0:r.data)||s.message),((e=s.response)==null?void 0:e.status)===404?new Error("해당 적금 상품을 찾을 수 없습니다."):s}},B=async(v,c,d)=>{var r,e;try{console.log("대출 상품 조회 요청:",{dclsMonth:v,finCoNo:c,finPrdtCd:d});const s=await h.get(`/api/creditloan/${v}/${c}/${d}`);return console.log("대출 상품 조회 응답:",s.data),s.data}catch(s){throw console.error("개인신용대출 상품 상세 조회 실패:",((r=s.response)==null?void 0:r.data)||s.message),((e=s.response)==null?void 0:e.status)===404?new Error("해당 대출 상품을 찾을 수 없습니다."):s}},E={class:"product-detail-page"},x={key:0,class:"loading-container"},R={key:1,class:"detail-container"},W={class:"detail-header"},A={class:"header-badges"},F={class:"product-info-card"},L={class:"product-header"},S={class:"product-name"},V={class:"company-name"},z={class:"product-highlights"},q={key:0,class:"highlight-item"},G={class:"highlight-value"},H={key:1,class:"highlight-item"},J={class:"highlight-value"},K={class:"detail-sections"},O={key:0,class:"detail-section"},Q={class:"section-content"},U={key:1,class:"detail-section"},X={class:"section-content"},Y={key:2,class:"detail-section"},Z={class:"section-content"},tt={key:3,class:"detail-section"},et={class:"section-content"},st={key:4,class:"detail-section"},ot={class:"section-content"},nt={key:5,class:"detail-section"},at={class:"section-content"},lt={key:0,class:"detail-section"},it={class:"section-content"},ct={key:1,class:"detail-section"},rt={class:"section-content"},dt={key:2,class:"detail-section"},ut={class:"section-content"},vt={key:3,class:"detail-section"},pt={class:"section-content"},_t={key:4,class:"detail-section"},yt={class:"section-content"},gt={key:2,class:"error-container"},ht={__name:"ProductDetailPage",setup(v){const c=T(),d=$(),r=g(!0),e=g(null),s=g(""),p=g(""),_=g(""),y=g("");P(()=>{s.value=c.params.productType,p.value=c.params.dclsMonth,_.value=c.params.finCoNo,y.value=c.params.finPrdtCd,console.log("라우트 파라미터:",{productType:s.value,dclsMonth:p.value,finCoNo:_.value,finPrdtCd:y.value}),s.value&&p.value&&_.value&&y.value?m():(console.error("필수 라우트 파라미터가 누락되었습니다."),r.value=!1)});const m=async()=>{r.value=!0;try{console.log("API 호출 시작:",{productType:s.value,dclsMonth:p.value,finCoNo:_.value,finPrdtCd:y.value});let u;switch(s.value){case"deposit":u=await M(p.value,_.value,y.value);break;case"savings":u=await I(p.value,_.value,y.value);break;case"creditloan":u=await B(p.value,_.value,y.value);break;default:throw new Error("지원하지 않는 상품 유형입니다.")}e.value=u,console.log("API 응답 전체:",u),console.log("상품 상세 정보로 할당된 값:",e.value),console.log("상품 상세 정보 로드 성공:",u)}catch(u){console.error("상품 상세 정보 로드 실패:",u),e.value=null}finally{r.value=!1}},w=()=>{d.go(-1)},b=()=>{d.push("/typetest")},D=()=>{alert("상품 문의 기능을 준비 중입니다.")},f=()=>({deposit:"deposit",savings:"savings",creditloan:"creditloan"})[s.value]||"default",j=()=>({deposit:"예금",savings:"적금",creditloan:"개인신용대출"})[s.value]||s.value;return(u,o)=>(a(),n("div",E,[r.value?(a(),n("div",x,o[0]||(o[0]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"상품 정보를 불러오는 중...",-1)]))):e.value?(a(),n("div",R,[t("div",W,[t("button",{onClick:w,class:"back-button"},"← 뒤로가기"),t("div",A,[t("span",{class:N(["product-type-badge",f()])},l(j()),3)])]),t("div",F,[t("div",L,[t("h1",S,l(e.value.finPrdtNm),1),t("p",V,l(e.value.korCoNm),1)]),t("div",z,[e.value.mtrtInt?(a(),n("div",q,[o[1]||(o[1]=t("span",{class:"highlight-label"},"금리",-1)),t("span",G,l(e.value.mtrtInt),1)])):i("",!0),e.value.joinWay?(a(),n("div",H,[o[2]||(o[2]=t("span",{class:"highlight-label"},"가입방법",-1)),t("span",J,l(e.value.joinWay),1)])):i("",!0)])]),t("div",K,[s.value==="deposit"||s.value==="savings"?(a(),n(k,{key:0},[e.value.mtrt_int?(a(),n("div",O,[o[3]||(o[3]=t("h3",{class:"section-title"},"금리 및 이자율 안내",-1)),t("div",Q,[t("p",null,l(e.value.mtrt_int),1)])])):i("",!0),e.value.spclCnd?(a(),n("div",U,[o[4]||(o[4]=t("h3",{class:"section-title"},"우대조건",-1)),t("div",X,[t("p",null,l(e.value.spclCnd),1)])])):i("",!0),e.value.join_way?(a(),n("div",Y,[o[5]||(o[5]=t("h3",{class:"section-title"},"가입 방법",-1)),t("div",Z,[t("p",null,l(e.value.join_way),1)])])):i("",!0),e.value.joinDeny?(a(),n("div",tt,[o[6]||(o[6]=t("h3",{class:"section-title"},"가입 제한",-1)),t("div",et,[t("p",null,l(e.value.joinDeny=="1"?"제한없음":e.value.joinDeny=="2"?"서민전용":e.value.joinDeny=="3"?"일부제한":e.value.joinDeny),1)])])):i("",!0),e.value.joinMember?(a(),n("div",st,[o[7]||(o[7]=t("h3",{class:"section-title"},"가입 대상",-1)),t("div",ot,[t("p",null,l(e.value.joinMember),1)])])):i("",!0),e.value.etcNote?(a(),n("div",nt,[o[8]||(o[8]=t("h3",{class:"section-title"},"기타 유의사항",-1)),t("div",at,[t("p",null,l(e.value.etcNote),1)])])):i("",!0)],64)):s.value==="creditloan"?(a(),n(k,{key:1},[e.value.mtrtInt?(a(),n("div",lt,[o[9]||(o[9]=t("h3",{class:"section-title"},"금리 및 이자율 안내",-1)),t("div",it,[t("p",null,l(e.value.mtrt_int),1)])])):i("",!0),e.value.crdtPrdtNm?(a(),n("div",ct,[o[10]||(o[10]=t("h3",{class:"section-title"},"대출 종류명",-1)),t("div",rt,[t("p",null,l(e.value.crdt_prdt_nm),1)])])):i("",!0),e.value.crdtLendRateType?(a(),n("div",dt,[o[11]||(o[11]=t("h3",{class:"section-title"},"대출 금리",-1)),t("div",ut,[t("p",null,l(e.value.crdt_lend_rate_type),1)])])):i("",!0),e.value.joinWay?(a(),n("div",vt,[o[12]||(o[12]=t("h3",{class:"section-title"},"가입 방법",-1)),t("div",pt,[t("p",null,l(e.value.join_way),1)])])):i("",!0),e.value.joinDeny?(a(),n("div",_t,[o[13]||(o[13]=t("h3",{class:"section-title"},"가입 제한",-1)),t("div",yt,[t("p",null,l(e.value.joinDeny=="1"?"제한없음":e.value.joinDeny=="2"?"서민전용":e.value.joinDeny=="3"?"일부제한":e.value.joinDeny),1)])])):i("",!0)],64)):i("",!0)]),t("div",{class:"action-section"},[t("button",{onClick:b,class:"action-button secondary"}," 검사 결과로 돌아가기 "),t("button",{onClick:D,class:"action-button primary"}," 상품 문의하기 ")])])):(a(),n("div",gt,[t("div",{class:"error-content"},[o[14]||(o[14]=t("div",{class:"error-icon"},"😕",-1)),o[15]||(o[15]=t("h2",null,"상품 정보를 불러올 수 없습니다",-1)),o[16]||(o[16]=t("p",null,"잠시 후 다시 시도해주세요.",-1)),t("button",{onClick:m,class:"retry-button"}," 다시 시도 ")])]))]))}},kt=C(ht,[["__scopeId","data-v-6b21103d"]]);export{kt as default};
