import{g as n,o as u,u as p,d as l,c as i,e as h}from"./index-_cOuDkb0.js";import{a as m}from"./authApi-CnrqbrL5.js";const _={class:"text-center p-10 text-xl"},x={__name:"OAuthCallbackPage",setup(d){const a=p(),e=l(),c=n();return u(async()=>{var s;const o=a.query.code,t=(s=a.query.provider)==null?void 0:s.toUpperCase();if(!o||!t)return alert("소셜 로그인 오류: 코드 또는 제공자가 없습니다."),e.push({name:"login"});try{const r=await m.socialLogin(t,o);c.saveToLocalStorage(r),e.push({name:"home"})}catch(r){console.error("소셜 로그인 실패:",r),alert("소셜 로그인 실패: 서버 오류"),e.push({name:"login"})}}),(o,t)=>(h(),i("div",_,"소셜 로그인 처리 중..."))}};export{x as default};
